<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aurus | Secure Decryptor</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>

<style>
:root{--primary:#3b82f6;--accent:#10b981;--nav-bg:rgba(226,232,240,.95);--thick-border:10px solid #fff}
body{margin:0;font-family:Inter,sans-serif;background:radial-gradient(circle at 50% 50%,#0f172a 0%,#020617 100%);color:#fff;min-height:100vh;display:flex;flex-direction:column;align-items:center}
.pop-click{transition:.1s;cursor:pointer}
.header-menu{position:fixed;top:25px;left:50%;transform:translateX(-50%);width:95%;max-width:1100px;background:rgba(15,23,42,.95);padding:6px;display:flex;justify-content:center;gap:5px;border-radius:100px;z-index:99999;box-shadow:0 12px 40px rgba(0,0,0,.8)}
.header-item{padding:12px 22px;font-size:11px;text-transform:uppercase;font-weight:700;color:#e5e7eb;text-decoration:none;border-radius:100px}
.header-item:hover{background:rgba(255,255,255,.15);color:#fff}
.active-tab{background:var(--primary);color:#fff}
.main-content{margin-top:130px;width:90%;max-width:900px;display:flex;flex-direction:column;gap:25px}
.glass-card{background:rgba(15,23,42,.5);border:var(--thick-border);border-radius:32px;padding:25px}
.label{font-size:11px;font-weight:800;color:var(--primary);margin-bottom:15px;display:block}
textarea{width:100%;height:140px;background:transparent;border:none;color:#f1f5f9;font-family:JetBrains Mono}
.btn-row{display:flex;justify-content:center;gap:12px;margin:10px 0}
.btn{padding:14px 28px;border-radius:14px;font-weight:700;border:none;font-size:13px}
.btn-primary{background:var(--primary);color:#fff}.btn-secondary{background:rgba(255,255,255,.1);color:#fff}
.btn-copy{background:#64748b;color:#fff}.btn-display{background:var(--accent);color:#fff}
.toast{position:fixed;top:100px;left:50%;transform:translateX(-50%) translateY(-50px);background:#1e293b;color:#fff;padding:12px 25px;border-radius:50px;opacity:0;transition:.4s}
.toast.show{transform:translateX(-50%) translateY(0);opacity:1}
</style>
</head>

<body>

<div id="toast" class="toast">Action Success</div>

<div class="header-menu">
    <a href="home.html" class="header-item">HOME</a>
    <a href="decryptor.html" class="header-item active-tab">DECRYPTOR</a>
    <a href="requestor.html" class="header-item">REQUESTOR</a>
    <a href="logger.html" class="header-item">LOGGER</a>
    <a href="comparator.html" class="header-item">COMPARATOR</a>
</div>

<div class="main-content">
    <div class="glass-card">
        <span class="label">Encrypted Input</span>
        <textarea id="inputBox"></textarea>
    </div>

    <div class="btn-row">
        <button class="btn btn-primary pop-click" onclick="processDecrypt()">‚ö° Decrypt</button>
        <button class="btn btn-secondary pop-click" onclick="resetAll()">‚Ü∫ Reset</button>
    </div>

    <div class="glass-card" style="background:rgba(15,23,42,.8)">
        <span class="label" style="color:var(--accent)">Plaintext Result</span>
        <textarea readonly id="outputBox"></textarea>
    </div>

    <div class="btn-row">
        <button class="btn btn-copy pop-click" onclick="copyResult()">üìã Copy Result</button>
        <button class="btn btn-display pop-click" onclick="openFullDisplay()">üñ•Ô∏è Full Workspace</button>
    </div>
</div>

<script>
const AES_KEY_HEX="A309BB49B764D95BD17666F0709C2881";

function aurusDecrypt(ct){
 try{
  const key=CryptoJS.enc.Hex.parse(AES_KEY_HEX);
  const dec=CryptoJS.AES.decrypt(ct,key,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});
  const res=dec.toString(CryptoJS.enc.Utf8);
  return res && res.length ? res : null;
 }catch{return null}
}

function normalizeMain(text){
 return text.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")
 .replace(/&#37;/g,"%").replace(/&apos;/g,"'").replace(/&quot;/g,'"');
}
function normalizeForWorkspace(text){ return normalizeMain(text).replace(/></g,">\n<"); }

function showToast(msg){
 const t=document.getElementById("toast");
 t.innerText=msg; t.classList.add("show");
 setTimeout(()=>t.classList.remove("show"),3000);
}

function processDecrypt(){
 const v=inputBox.value.trim();
 if(!v) return showToast("‚ö†Ô∏è Input empty");
 const raw=aurusDecrypt(v);
 if(!raw){ outputBox.value=""; showToast("‚ùå Invalid Aurus Data"); }
 else{ outputBox.value=normalizeMain(raw); showToast("‚úÖ Decrypted"); }
}
function resetAll(){ inputBox.value=""; outputBox.value=""; }
function copyResult(){ navigator.clipboard.writeText(outputBox.value); }
function openFullDisplay(){
 if(!outputBox.value) return showToast("‚ö†Ô∏è No data");
 localStorage.setItem("decryptResult", normalizeForWorkspace(outputBox.value));
 window.open("display.html","_blank");
}
</script>
</body>
</html>
